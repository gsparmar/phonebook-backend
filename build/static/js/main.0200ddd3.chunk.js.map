{"version":3,"sources":["components/Filter.js","services/persons.js","components/Person.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","newSearch","setNewSearch","value","onChange","event","target","baseUrl","id","axios","delete","Person","persons","setPersons","filter","person","name","toLowerCase","includes","map","number","onClick","console","log","window","confirm","personServices","n","PersonForm","addPerson","newName","setNewName","newNumber","setNewNumber","onSubmit","type","App","useState","errorMessage","useEffect","get","then","res","data","Notification","message","className","preventDefault","personObject","length","existingPerson","find","put","post","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0200ddd3.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ newSearch, setNewSearch }) => {\n  return (\n    <div>\n      filter shown with:{' '}\n      <input\n        value={newSearch}\n        onChange={(event) => setNewSearch(event.target.value)}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from 'axios';\nconst baseUrl = 'http://localhost:3001/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((res) => res.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((res) => res.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((res) => res.data);\n};\n\nconst remove = (id) => {\n  axios.delete(`${baseUrl}/${id}`);\n};\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import React from 'react';\nimport personServices from '../services/persons';\nimport '../App.css';\n\nconst Person = ({ persons, newSearch, setPersons }) => {\n  return (\n    <div>\n      <ul>\n        {persons\n          .filter((person) =>\n            person.name.toLowerCase().includes(newSearch.toLowerCase())\n          )\n          .map((person) => (\n            <li>\n              {person.name} {person.number}\n              <button\n                onClick={() => {\n                  console.log('button clicked');\n                  window.confirm(`Delete ${person.name}?`) &&\n                    personServices.remove(person.id);\n                  setPersons(persons.filter((n) => n.id !== person.id));\n                }}\n              >\n                delete\n              </button>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from 'react';\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name:\n          <input\n            value={newName}\n            onChange={(event) => setNewName(event.target.value)}\n          />\n        </div>\n        <div>\n          number:\n          <input\n            value={newNumber}\n            onChange={(event) => setNewNumber(event.target.value)}\n          />\n        </div>\n        <div>\n          <button type='submit'>Add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport './App.css';\n\nimport personService from './services/persons';\nimport axios from 'axios';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newSearch, setNewSearch] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [type, setType] = useState('');\n\n  const baseUrl = 'http://localhost:5000/api/persons';\n\n  useEffect(() => {\n    console.log('effect');\n    axios.get(baseUrl).then((res) => {\n      console.log('promise fulfilled');\n      setPersons(res.data);\n    });\n  }, []);\n\n  const Notification = ({ message, type }) => {\n    if (message === null) {\n      return null;\n    }\n    return <div className={type}>{message}</div>;\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    };\n\n    const existingPerson = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n\n    if (existingPerson) {\n      window.confirm(\n        `${newName} is already in the phonebook, would you like to update the number?`\n      );\n      axios.put(baseUrl, existingPerson).then((res) => {\n        setPersons(\n          persons.map((person) =>\n            person.id !== existingPerson.id ? person : res.data\n          )\n        );\n      });\n    } else {\n      axios.post(baseUrl, personObject).then((res) => {\n        setPersons(persons.concat(res.data));\n        setNewName('');\n        setNewNumber('');\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} type={type} />\n\n      <Filter newSearch={newSearch} setNewSearch={setNewSearch} />\n      <h2>add a new contact</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Person persons={persons} newSearch={newSearch} setPersons={setPersons} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
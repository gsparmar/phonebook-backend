(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(17),o=n.n(r),a=n(4),s=n(0),i=function(e){var t=e.newSearch,n=e.setNewSearch;return Object(s.jsxs)("div",{children:["filter shown with:"," ",Object(s.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]})},u=n(3),j=n.n(u),b="/api/persons",d=function(e){j.a.delete("".concat(b,"/").concat(e))},l=(n(16),function(e){var t=e.persons,n=e.newSearch,c=e.setPersons;return Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(s.jsxs)("li",{children:[e.name," ",e.number,Object(s.jsx)("button",{onClick:function(){console.log("button clicked"),window.confirm("Delete ".concat(e.name,"?"))&&d(e.id),c(t.filter((function(t){return t.id!==e.id})))},children:"delete"})]})}))})})}),h=function(e){var t=e.addPerson,n=e.newName,c=e.setNewName,r=e.newNumber,o=e.setNewNumber;return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsxs)("div",{children:["name:",Object(s.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number:",Object(s.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"Add"})})]})})},O=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),u=Object(a.a)(o,2),b=u[0],d=u[1],O=Object(c.useState)(""),f=Object(a.a)(O,2),m=f[0],w=f[1],p=Object(c.useState)(""),x=Object(a.a)(p,2),v=x[0],N=x[1],g=Object(c.useState)(null),S=Object(a.a)(g,2),k=S[0],C=(S[1],Object(c.useState)("")),y=Object(a.a)(C,2),P=y[0],L=(y[1],"/api/persons");Object(c.useEffect)((function(){console.log("effect"),j.a.get(L).then((function(e){console.log("promise fulfilled"),r(e.data)}))}),[]);var D=function(e){var t=e.message,n=e.type;return null===t?null:Object(s.jsx)("div",{className:n,children:t})};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(D,{message:k,type:P}),Object(s.jsx)(i,{newSearch:v,setNewSearch:N}),Object(s.jsx)("h2",{children:"add a new contact"}),Object(s.jsx)(h,{addPerson:function(e){e.preventDefault();var t={name:b,number:m,id:n.length+1},c=n.find((function(e){return e.name.toLowerCase()===b.toLowerCase()}));c?(window.confirm("".concat(b," is already in the phonebook, would you like to update the number?")),j.a.put(L,c).then((function(e){r(n.map((function(t){return t.id!==c.id?t:e.data})))}))):j.a.post(L,t).then((function(e){r(n.concat(e.data)),d(""),w("")}))},newName:b,setNewName:d,newNumber:m,setNewNumber:w}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(l,{persons:n,newSearch:v,setPersons:r})]})};o.a.render(Object(s.jsx)(O,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ab37b3ba.chunk.js.map